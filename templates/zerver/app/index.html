{% extends "zerver/base.html" %}
{% set entrypoint = "app" %}

{% set PAGE_TITLE = _("Public view of {org_name} | Zulip team chat").format(org_name=realm_name) %}
{% set PAGE_DESCRIPTION = _("Browse the publicly accessible channels in {org_name} without logging in.").format(org_name=realm_name)  %}

{% block meta_viewport %}
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no{% if is_firefox_android %}, interactive-widget=resizes-content{% endif %}" />
{% endblock %}

{% block customhead %}
{% if enable_gravatar %}<link rel="dns-prefetch" href="https://secure.gravatar.com" />{% endif %}
{% if s3_avatar_public_url_prefix %}<link rel="dns-prefetch" href="{{ s3_avatar_public_url_prefix }}" />{% endif %}
<meta name="mobile-web-app-capable" content="yes" />
<link href="{{ static('images/logo/apple-touch-icon-precomposed.png') }}" rel="apple-touch-icon-precomposed" />
<style>
    #app-loading {
    font-size: 16px;
    background-color: hsl(0, 0%, 94%);
    position: fixed;
    height: 100%;
    width: 100%;
    padding: 10px;
    top: 0px;
    left: 0px;
    z-index: 200;
    }
    #app-loading-middle-content, #app-loading-bottom-content {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    padding: 10px;
    }
    #app-loading-middle-content h3 {
    text-align: center;
    }
    @keyframes showAtEnd {
    99% {
    visibility: hidden;
    }
    100% {
    visibility: visible;
    }
    }
    #app-loading-bottom-content {
    top: unset;
    bottom: 20px;
    animation: 7s showAtEnd;
    animation-fill-mode: forwards;
    visibility: hidden;
    }
    #app-loading-error {
    display: flex;
    height: 100vh;
    justify-content: center;
    align-items: center;
    visibility: hidden;
    }
    :root.dark-theme #app-loading {
    background-color: hsl(0, 0%, 11%);
    color: hsl(236, 33%, 90%);
    }
    @media (prefers-color-scheme: dark) {
    :root.color-scheme-automatic #app-loading {
    background-color: hsl(0, 0%, 11%);
    color: hsl(236, 33%, 90%);
    }
    }

    .app-loading-spinner-container {
    position: relative;
    margin: auto;
    display: flex;
    justify-content: center;
    }
    .app-loading-logo {
    height: 64px;
    padding: 10px;
    }
    @keyframes zspinner {
    to {transform: rotate(360deg);}
    }
    .app-loading-spinner:before {
    content: '';
    box-sizing: border-box;
    position: absolute;
    width: 84px;
    height: 84px;
    border-radius: 50%;
    border: 4px solid hsl(0,0%,94%);
    border-top-color: hsl(0,0%,52%);
    animation: zspinner 1s linear infinite;
    }
    #language_select {
    border: 3px solid red !important;
    appearance: auto !important;
    }
</style>
{% endblock %}
<h1>TEST DROPDOWN</h1>

{% block content %}
<div id="feedback_container"></div>

<div id="navbar-fixed-container">
    <div id="navbar_alerts_wrapper" class="banner-wrapper"></div>
    <div id="header-container">
        <div class="navbar-right">
            <label>{% trans %}Language{% endtrans %}</label>
            
            <!-- DropdownWidget attaches here -->
            <div id="default_language_dropdown_container"></div>
            
            <p>All languages: {{ page_params.all_languages }}</p>
        </div>
    </div>
</div>


<div id="app-loading">
    <div id="app-loading-middle-content">
        <div class="app-loading-spinner-container">
            <div class="app-loading-spinner"></div>
            <svg class="app-loading-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 773.12 773.12"><linearGradient id="a" x1="0" y1="0" x2="0" y2="1"><stop offset="0" stop-color="#50adff"/><stop offset="1" stop-color="#7877fc"/></linearGradient><circle cx="386.56" cy="386.56" r="386.56" fill="url(#a)"/><path d="M566.66 527.25c0 33.03-24.23 60.05-53.84 60.05H260.29c-29.61 0-53.84-27.02-53.84-60.05 0-20.22 9.09-38.2 22.93-49.09l134.37-120c2.5-2.14 5.74 1.31 3.94 4.19l-49.29 98.69c-1.38 2.76.41 6.16 3.25 6.16h191.18c29.61 0 53.83 27.03 53.83 60.05zm0-281.39c0 20.22-9.09 38.2-22.93 49.09l-134.37 120c-2.5 2.14-5.74-1.31-3.94-4.19l49.29-98.69c1.38-2.76-.41-6.16-3.25-6.16H260.29c-29.61 0-53.84-27.02-53.84-60.05s24.23-60.05 53.84-60.05h252.54c29.61 0 53.83 27.02 53.83 60.05z" fill="#fff"/></svg>
        </div>
    </div>
    <div id="app-loading-bottom-content">
        <p>{% trans %}If this message does not go away, try <a class="reload-lnk">reloading</a> the page.{% endtrans %}</p>
    </div>
    <div id="app-loading-error">
        <p>{% trans %}Error loading Zulip. Try <a class="reload-lnk">reloading</a> the page.{% endtrans %}</p>
    </div>
    <script nonce="{{ csp_nonce }}">
        document.addEventListener('DOMContentLoaded', function () {
            function reload() {
                window.location.reload(true);
            }
            document.querySelectorAll('.reload-lnk').forEach(lnk => lnk.addEventListener('click', reload));
        });
    </script>
</div>

<!-- Overlay containers, messages, compose box, right-sidebar, etc. -->
<div id="tooltip-templates-container"></div>
<div id="channels_overlay_container"></div>
<div id="groups_overlay_container"></div>
<div id="drafts_table"></div>
<div id="scheduled_messages_overlay_container"></div>
<div id="reminders-overlay-container"></div>
<div id="settings_overlay_container" class="overlay" data-overlay="settings" aria-hidden="true"></div>
<div id="message-edit-history-overlay-container"></div>

<div class="app">
    <div class="app-main">
        <div class="column-left" id="left-sidebar-container"></div>
        <div class="column-middle">
            <div class="column-middle-inner">
                 <div id="recent_view">
                    <div class="recent_view_container">
                        <div id="recent_view_table"></div>
                    </div>
                    <table id="recent-view-content-table">
                        <tbody data-empty="{{ _('No conversations match your filters.') }}" id="recent-view-content-tbody"></tbody>
                    </table>
                    <div id="recent_view_bottom_whitespace">
                        <div class="bottom-messages-logo">
                            <svg class="messages-logo-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 773.12 773.12">
                                <circle cx="386.56" cy="386.56" r="386.56"/>
                                <path d="M566.66 527.25c0 33.03-24.23 60.05-53.84 60.05H260.29c-29.61 0-53.84-27.02-53.84-60.05 0-20.22 9.09-38.2 22.93-49.09l134.37-120c2.5-2.14 5.74 1.31 3.94 4.19l-49.29 98.69c-1.38 2.76.41 6.16 3.25 6.16h191.18c29.61 0 53.83 27.03 53.83 60.05zm0-281.39c0 20.22-9.09 38.2-22.93 49.09l-134.37 120c-2.5 2.14-5.74-1.31-3.94-4.19l49.29-98.69c1.38-2.76-.41-6.16-3.25-6.16H260.29c-29.61 0-53.84-27.02-53.84-60.05s24.23-60.05 53.84-60.05h252.54c29.61 0 53.83 27.02 53.83 60.05z"/>
                            </svg>
                        </div>
                        <div id="recent_view_loading_messages_indicator"></div>
                    </div>
                    <!-- Don't show the banner until we have some messages loaded. -->
                    <div class="recent-view-load-more-container main-view-banner info notvisible">
                        <div class="last-fetched-message banner_content">{{ _('This view is still loading messages.') }}</div>
                        <button class="fetch-messages-button main-view-banner-action-button right_edge notvisible">
                            <div class="loading-indicator"></div>
                            <span class="button-label">{{ _('Load more') }}</span>
                        </button>
                    </div>
                </div>
                <div id="inbox-view" class="no-visible-focus-outlines">
                    <div class="inbox-container">
                        <div id="inbox-pane"></div>
                    </div>
                </div>
                <div id="message_feed_container">
                    <div class="message-feed" id="main_div">
                        <div class="top-messages-logo">
                            <svg class="messages-logo-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 773.12 773.12">
                                <circle cx="386.56" cy="386.56" r="386.56"/>
                                <path d="M566.66 527.25c0 33.03-24.23 60.05-53.84 60.05H260.29c-29.61 0-53.84-27.02-53.84-60.05 0-20.22 9.09-38.2 22.93-49.09l134.37-120c2.5-2.14 5.74 1.31 3.94 4.19l-49.29 98.69c-1.38 2.76.41 6.16 3.25 6.16h191.18c29.61 0 53.83 27.03 53.83 60.05zm0-281.39c0 20.22-9.09 38.2-22.93 49.09l-134.37 120c-2.5 2.14-5.74-1.31-3.94-4.19l49.29-98.69c1.38-2.76-.41-6.16-3.25-6.16H260.29c-29.61 0-53.84-27.02-53.84-60.05s24.23-60.05 53.84-60.05h252.54c29.61 0 53.83 27.02 53.83 60.05z"/>
                            </svg>
                        </div>
                        <div id="loading_older_messages_indicator"></div>
                        <div id="page_loading_indicator"></div>
                        <div id="message_feed_errors_container"></div>
                        <div id="message-lists-container"></div>
                        <div id="scheduled_message_indicator">
                        </div>
                        <div id="mark_read_on_scroll_state_banner">
                        </div>
                        <div id="typing_notifications">
                        </div>
                        <div id="mark_read_on_scroll_state_banner_place_holder">
                        </div>
                        <div id="bottom_whitespace">
                        </div>
                    </div>
                </div>
                <div id="compose" {% if embedded %}data-embedded{% endif %}>
                    <div id="compose-container"></div>
                </div>
            </div>
        </div>
        <div class="column-right" id="right-sidebar-container"></div>
    </div>
</div>

<div class="hidden">
    <form id="logout_form" action="/accounts/logout/" method="POST">{{ csrf_input }}</form>
</div>
{% endblock %}

